<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Locadora DW - Sistema de Gestão</title>
    <link rel="stylesheet" href="/css/styles.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div class="container">
        <header>
            <h1 class="header-title">Locadora DW</h1>
            <nav class="nav-tabs">
                <button class="tab-btn active" onclick="switchTab('dashboard')">Dashboard</button>
                <button class="tab-btn" onclick="switchTab('filmes')">Filmes</button>
                <button class="tab-btn" onclick="switchTab('clientes')">Clientes</button>
                <button class="tab-btn" onclick="switchTab('comentarios')">Comentários</button>
                <button class="tab-btn" onclick="switchTab('relatorios')">Relatórios</button>
            </nav>
        </header>

        <main>
            <!-- Dashboard -->
            <section id="dashboard" class="tab-content active">
                <div class="dashboard-grid">
                    <div class="kpi-card">
                        <h3>Total de Clientes</h3>
                        <div class="kpi-value" id="totalCustomers">150</div>
                        <div class="kpi-change">+5% vs mês anterior</div>
                    </div>
                    <div class="kpi-card">
                        <h3>Filmes Disponíveis</h3>
                        <div class="kpi-value" id="availableMovies">45</div>
                        <div class="kpi-change">+2% vs mês anterior</div>
                    </div>
                    <div class="kpi-card">
                        <h3>Locações Ativas</h3>
                        <div class="kpi-value" id="activeRentals">23</div>
                        <div class="kpi-change negative">-3% vs mês anterior</div>
                    </div>
                    <div class="kpi-card">
                        <h3>Receita Mensal</h3>
                        <div class="kpi-value" id="monthlyRevenue">R$ 12.450</div>
                        <div class="kpi-change">+8% vs mês anterior</div>
                    </div>
                </div>

                <div class="chart-container">
                    <canvas id="rentalsChart"></canvas>
                </div>

                <div class="chart-container">
                    <canvas id="topMoviesChart"></canvas>
                </div>
            </section>

            <!-- Filmes -->
            <section id="filmes" class="tab-content">
                <div class="search-controls">
                    <input type="text" id="movieSearch" class="search-input" placeholder="Buscar filmes...">
                    <select id="genreFilter" class="filter-select">
                        <option value="">Todos os gêneros</option>
                        <option value="acao">Ação</option>
                        <option value="comedia">Comédia</option>
                        <option value="drama">Drama</option>
                        <option value="ficcao">Ficção Científica</option>
                        <option value="romance">Romance</option>
                    </select>
                    <select id="availabilityFilter" class="filter-select">
                        <option value="">Todos</option>
                        <option value="available">Disponíveis</option>
                        <option value="unavailable">Indisponíveis</option>
                    </select>
                    <button class="btn" onclick="searchMovies()">Buscar</button>
                </div>

                <div id="moviesGrid" class="movies-grid">
                    <!-- Filmes serão carregados dinamicamente -->
                </div>
            </section>

            <!-- Clientes -->
            <section id="clientes" class="tab-content">
                <div class="search-controls">
                    <input type="text" id="customerSearch" class="search-input" placeholder="Buscar clientes...">
                    <button class="btn" onclick="searchCustomers()">Buscar</button>
                </div>

                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Nome</th>
                            <th>Email</th>
                            <th>Telefone</th>
                            <th>Status</th>
                            <th>Ações</th>
                        </tr>
                    </thead>
                    <tbody id="customersTable">
                        <!-- Clientes serão carregados dinamicamente -->
                    </tbody>
                </table>
            </section>

            <!-- Comentários -->
            <section id="comentarios" class="tab-content">
                <div class="comments-section">
                    <h2>Adicionar Comentário</h2>
                    <form class="comment-form" onsubmit="event.preventDefault(); submitComment();">
                        <select id="movieSelect" class="search-input" required>
                            <option value="">Selecione um filme</option>
                            <option value="Interestelar">Interestelar</option>
                            <option value="O Poderoso Chefão">O Poderoso Chefão</option>
                            <option value="Matrix">Matrix</option>
                            <option value="Pulp Fiction">Pulp Fiction</option>
                        </select>
                        <textarea id="commentText" class="search-input" placeholder="Seu comentário..." required></textarea>
                        <div class="rating-input">
                            <label>Avaliação:</label>
                            <div class="rating-stars">
                                <input type="radio" name="rating" value="5" id="rating5" required>
                                <label for="rating5">★</label>
                                <input type="radio" name="rating" value="4" id="rating4">
                                <label for="rating4">★</label>
                                <input type="radio" name="rating" value="3" id="rating3">
                                <label for="rating3">★</label>
                                <input type="radio" name="rating" value="2" id="rating2">
                                <label for="rating2">★</label>
                                <input type="radio" name="rating" value="1" id="rating1">
                                <label for="rating1">★</label>
                            </div>
                        </div>
                        <button type="submit" class="btn">Enviar Comentário</button>
                    </form>

                    <h2>Comentários Recentes</h2>
                    <div id="commentsContainer">
                        <!-- Comentários serão carregados dinamicamente -->
                    </div>
                </div>
            </section>

            <!-- Relatórios -->
            <section id="relatorios" class="tab-content">
                <div class="search-controls">
                    <select id="reportPeriod" class="filter-select">
                        <option value="week">Última Semana</option>
                        <option value="month">Último Mês</option>
                        <option value="year">Último Ano</option>
                    </select>
                    <select id="reportType" class="filter-select">
                        <option value="rentals">Locações</option>
                        <option value="revenue">Receita</option>
                        <option value="customers">Clientes</option>
                    </select>
                    <button class="btn" onclick="generateReport()">Gerar Relatório</button>
                </div>

                <div class="chart-container">
                    <canvas id="reportChart"></canvas>
                </div>

                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Data</th>
                            <th>Descrição</th>
                            <th>Valor</th>
                            <th>Status</th>
                        </tr>
                    </thead>
                    <tbody id="reportTable">
                        <!-- Dados do relatório serão carregados dinamicamente -->
                    </tbody>
                </table>
            </section>
        </main>
    </div>

    <script src="/js/main.js"></script>
</body>
</html> 